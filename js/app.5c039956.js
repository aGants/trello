(function(t){function e(e){for(var a,i,c=e[0],r=e[1],d=e[2],u=0,b=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&b.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(b.length)b.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/trello/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1ad7":function(t,e,n){},3873:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o=(n("b0c0"),Object(a["f"])("h1",null,"Trello",-1)),s={class:"list"},i=["onDrop"],c={class:"board-title"},r={class:"board-title__text"},d=["onKeydown"],l={class:"option"},u=["onClick"],b=["onClick"],f={class:"board"};function p(t,e,n,p,m,O){var j=Object(a["n"])("tasks-list");return Object(a["k"])(),Object(a["e"])(a["a"],null,[o,Object(a["f"])("div",s,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(t.board.list,(function(t,n){return Object(a["k"])(),Object(a["e"])("div",{class:Object(a["j"])(["board",{editboard:t.edit}]),key:n,onDrop:function(e){return O.moveTask(e,t.tasks)},onDragover:e[1]||(e[1]=Object(a["u"])((function(){}),["prevent"])),onDragenter:e[2]||(e[2]=Object(a["u"])((function(){}),["prevent"]))},[Object(a["f"])("div",c,[Object(a["s"])(Object(a["f"])("div",r,[Object(a["f"])("span",null,Object(a["o"])(t.name),1)],512),[[a["q"],1!=t.edit]]),Object(a["s"])(Object(a["f"])("input",{type:"text",class:"board-title__input",onKeydown:[Object(a["t"])((function(e){O.editBoard(n),t.edit=!1}),["enter"]),Object(a["t"])((function(e){t.edit=!1,m.count=0}),["esc"])],"onUpdate:modelValue":e[0]||(e[0]=function(t){return m.editBoardName=t})},null,40,d),[[a["q"],t.edit],[a["p"],m.editBoardName]]),Object(a["s"])(Object(a["f"])("div",l,[Object(a["f"])("input",{type:"button",value:"...",class:"option-btn edit",onClick:function(e){t.edit=!0,m.count+=1,m.editBoardName=t.name}},null,8,u),Object(a["f"])("input",{type:"button",value:"x",class:"option-btn close",onClick:function(t){return O.deleteBoard(n)}},null,8,b)],512),[[a["q"],0===m.count]])]),Object(a["h"])(j,{tasks:t.tasks,boardId:n,onOnDragStart:O.onDragStart},null,8,["tasks","boardId","onOnDragStart"])],42,i)})),128)),Object(a["f"])("div",f,[Object(a["s"])(Object(a["f"])("input",{type:"text",class:"board-list__input",placeholder:"+ добавить доску","onUpdate:modelValue":e[3]||(e[3]=function(t){return m.newBoardName=t}),onKeyup:e[4]||(e[4]=Object(a["t"])((function(){return O.addBoard&&O.addBoard.apply(O,arguments)}),["enter"]))},null,544),[[a["p"],m.newBoardName]])])])],64)}var m=n("5502"),O={class:"board-list"},j=["onDragstart"],k={class:"board-list-task__title"},v=["onKeydown"],T={class:"option"},h=["onClick"],y=["onClick"],g=["onKeydown"];function D(t,e,n,o,s,i){var c=Object(a["n"])("modal-window");return Object(a["k"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("ul",O,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(n.tasks,(function(o,c){return Object(a["k"])(),Object(a["e"])("li",{key:c,class:"board-list-task",onDragstart:function(t){return i.onDragStart(t,c,n.boardId)},draggable:"true"},[Object(a["f"])("div",k,[Object(a["s"])(Object(a["f"])("span",null,Object(a["o"])(o.name),513),[[a["q"],!1===o.edit]]),Object(a["s"])(Object(a["f"])("input",{type:"text",class:"board-list-task__input",onKeydown:[Object(a["t"])((function(t){i.editTask(c),o.edit=!1}),["enter"]),Object(a["t"])((function(e){o.edit=!1,t.count=0}),["esc"])],"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.editTaskName=t})},null,40,v),[[a["q"],!0===o.edit],[a["p"],s.editTaskName]]),Object(a["s"])(Object(a["f"])("div",T,[Object(a["f"])("input",{type:"button",value:"...",class:"option-btn edit",onClick:function(t){o.edit=!0,s.editTaskName=o.name}},null,8,h),Object(a["f"])("input",{type:"button",value:"x",class:"option-btn close",onClick:function(t){return i.deleteTask(c)}},null,8,y)],512),[[a["q"],!1===o.edit]])]),Object(a["s"])(Object(a["f"])("p",{class:"board-list-task__desc"},Object(a["o"])(o.desc),513),[[a["q"],1!=o.edit]]),Object(a["s"])(Object(a["f"])("input",{type:"text",class:"board-list-task__input",onKeydown:[Object(a["t"])((function(t){i.editTask(c),o.edit=!1}),["enter"]),Object(a["t"])((function(t){return o.edit=!1}),["esc"])],"onUpdate:modelValue":e[1]||(e[1]=function(t){return s.editTaskDesc=t})},null,40,g),[[a["q"],o.edit],[a["p"],s.editTaskDesc]])],40,j)})),128))]),Object(a["f"])("input",{type:"button",class:"board-list__btn",value:"+ добавить задание",onClick:e[2]||(e[2]=function(t){return s.modal=!s.modal})}),s.modal?(Object(a["k"])(),Object(a["c"])(c,{key:0,onCloseModal:i.closePopupModal,onAddingTask:i.addTask},null,8,["onCloseModal","onAddingTask"])):Object(a["d"])("",!0)],64)}n("a9e3");var _={class:"modal"},w={class:"modal-content"},B=Object(a["g"])("Название "),S=Object(a["g"])("Описание "),x={class:"modal-content-block"};function E(t,e,n,o,s,i){return Object(a["k"])(),Object(a["e"])("div",_,[Object(a["f"])("div",w,[Object(a["f"])("label",null,[B,Object(a["s"])(Object(a["f"])("input",{type:"text",class:Object(a["j"])(["modal-content__input",{error:s.isError}]),"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.name=t}),onKeydown:[e[1]||(e[1]=Object(a["t"])((function(){return i.addingTask&&i.addingTask.apply(i,arguments)}),["enter"])),e[2]||(e[2]=Object(a["t"])((function(){return i.closeModal&&i.closeModal.apply(i,arguments)}),["esc"]))]},null,34),[[a["p"],s.name]])]),Object(a["f"])("label",null,[S,Object(a["s"])(Object(a["f"])("input",{type:"text",class:"modal-content__input","onUpdate:modelValue":e[3]||(e[3]=function(t){return s.desc=t}),onKeydown:[e[4]||(e[4]=Object(a["t"])((function(){return i.addingTask&&i.addingTask.apply(i,arguments)}),["enter"])),e[5]||(e[5]=Object(a["t"])((function(){return i.closeModal&&i.closeModal.apply(i,arguments)}),["esc"]))]},null,544),[[a["p"],s.desc]])]),Object(a["f"])("div",x,[Object(a["f"])("input",{type:"button",class:"modal-content-block__btn save",value:"сохранить",onClick:e[6]||(e[6]=function(){return i.addingTask&&i.addingTask.apply(i,arguments)})}),Object(a["f"])("input",{type:"button",class:"modal-content-block__btn cancel",value:"отменить",onClick:e[7]||(e[7]=function(){return i.closeModal&&i.closeModal.apply(i,arguments)})})])])])}var A={name:"modal-window",data:function(){return{name:"",desc:"",isError:!1}},methods:{closeModal:function(){this.isError=!1,this.$emit("closeModal")},addingTask:function(){""!=this.name?(this.$emit("addingTask",{name:this.name,desc:this.desc}),this.isError=!1):this.isError=!0}}};n("9212");A.render=E;var M=A,N={name:"tasks-list",components:{ModalWindow:M},props:{boardId:Number,tasks:Array},emits:["onDragStart"],data:function(){return{modal:!1,editTaskName:"",editTaskDesc:""}},methods:{addTask:function(t){var e=this.tasks;this.$store.commit("ADD_TASK",{tasks:e,name:t.name,desc:t.desc}),this.modal=!1},deleteTask:function(t){var e=this.tasks;this.$store.commit("DELETE_TASK",{tasks:e,id:t})},editTask:function(t){var e=this.tasks;this.$store.commit("EDIT_TASK",{tasks:e,id:t,name:this.editTaskName,desc:this.editTaskDesc}),this.editTaskName=this.editTaskDesc=""},closePopupModal:function(){this.modal=!1},onDragStart:function(t,e,n){this.$emit("onDragStart",{e:t,taskIndex:e,fromBoardIndex:n})}}};n("f1dc");N.render=D;var K=N,I={name:"App",components:{TasksList:K},props:{},data:function(){return{modal:!1,newBoardName:"",editBoardName:"",count:0}},computed:Object(m["b"])(["board"]),methods:{addBoard:function(){this.$store.commit("ADD_BOARD",{name:this.newBoardName}),this.newBoardName=""},deleteBoard:function(t){this.$store.commit("DELETE_BOARD",{id:t})},editBoard:function(t){this.$store.commit("EDIT_BOARD",{id:t,name:this.editBoardName}),this.editBoardName="",this.count=0},onDragStart:function(t){t.e.dataTransfer.setData("task-index",t.taskIndex),t.e.dataTransfer.setData("from-board-index",t.fromBoardIndex)},moveTask:function(t,e){var n=t.dataTransfer.getData("from-board-index"),a=this.board.list[n].tasks,o=t.dataTransfer.getData("task-index");this.$store.commit("MOVE_TASK",{fromTasks:a,toTasks:e,taskIndex:o})}}};n("b7ea");I.render=p;var C=I;n("a434"),n("d3b7"),n("25f0");function $(t){t.subscribe((function(t,e){localStorage.setItem("board",JSON.stringify(e.board))}))}function P(){return(1e8*Math.random()).toString(16)}var q={name:"store",list:[{name:"to do",edit:!1,tasks:[{id:P(),name:"Задача 1",desc:"Описание",edit:!1},{id:P(),name:"Задача 2",desc:"Описание",edit:!1}]},{name:"in progress",edit:!1,tasks:[{id:P(),name:"Задача 3",desc:"Описание",edit:!1}]},{name:"done",edit:!1,tasks:[]}]},V=JSON.parse(localStorage.getItem("board"))||q,R=Object(m["a"])({plugins:[$],state:{board:V},mutations:{ADD_BOARD:function(t,e){var n=e.name;t.board.list.push({name:n,tasks:[],edit:!1})},DELETE_BOARD:function(t,e){var n=e.id;t.board.list.splice(n,1)},EDIT_BOARD:function(t,e){var n=e.id,a=e.name;t.board.list[n].name=a,t.board.list[n].edit=!1},ADD_TASK:function(t,e){var n=e.tasks,a=e.name,o=e.desc;n.push({id:P(),name:a,desc:o,edit:!1})},DELETE_TASK:function(t,e){var n=e.tasks,a=e.id;n.splice(a,1)},EDIT_TASK:function(t,e){var n=e.tasks,a=e.id,o=e.name,s=e.desc;n[a].name=o,n[a].desc=s,n[a].edit=!1},MOVE_TASK:function(t,e){var n=e.fromTasks,a=e.toTasks,o=e.taskIndex,s=n.splice(o,1)[0];a.push(s)}},actions:{},modules:{}});Object(a["b"])(C).use(R).mount("#app")},9212:function(t,e,n){"use strict";n("3873")},b0ab:function(t,e,n){},b7ea:function(t,e,n){"use strict";n("1ad7")},f1dc:function(t,e,n){"use strict";n("b0ab")}});
//# sourceMappingURL=app.5c039956.js.map